#include <mysql/mysql.h>
#include <stdio.h>
#include <string.h>
#include <stdlib.h>
#include <errno.h>
#include <wiringPi.h>


static char *host = "localhost";
static char *user = "phpmyadmin";
static char *pass = "kcci";
static char * dbname = "Motor";

//void finish_with_error(MYSQL *conn){
//	fprintf(stderr, "%s\n",mysql_error(conn));
//	mysql_close(conn);
//	exit(1);
//}

int main()
{
	MYSQL *conn;
	conn = mysql_init(NULL);
	int sql_index, flag = 0;
	char in_sql[200] = {0};
	int res =0;

	if(!(mysql_real_connect(conn, host, user, pass, dbname, 0, NULL, 0)))
	{
		fprintf(stderr, "error:%s[%d]\n", mysql_error(conn), mysql_errno(conn));
		exit(1);
	}
	else
		printf("Connection Successful!\n");

	fflush(stdout);
	if(wiringPiSetup() == -1)
		return 1;
	while(1)
	{
		sprintf(in_sql,
		printf("%s", a);

//		MYSQL_RES* result = mysql_store_result(conn);
//		if(result ==NULL)
//		{
//			finish_with_error(conn);
//		}
//		int num_fields = mysql_num_fields(result);
//		MYSQL_ROW row;
//		while(row=mysql_fetch_row(result))
//			for(int i=0; i<num_fields; i++)
//			{
//				printf("%s", row[i]?row[i]:"NULL");
//			}
//			printf("\n");
//		}
		//mysql_free_result(result);
//		mysql_close(conn);
//		exit(0);
	}
}
